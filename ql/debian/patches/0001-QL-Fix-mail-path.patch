From 5c8f5c96d9b48399b991f13983bd17e9a2054ff3 Mon Sep 17 00:00:00 2001
From: Roland Fehrenbacher <rf@q-leap.de>
Date: Sat, 8 Feb 2014 16:05:35 +0000
Subject: [PATCH] QL: Fix mail path

---
 doc/html/configurator.html.in |    2 +-
 doc/man/man1/strigger.1       |    4 ++--
 doc/man/man5/slurm.conf.5     |    2 +-
 src/common/read_config.h      |    2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/doc/html/configurator.html.in b/doc/html/configurator.html.in
index f753fd8..5ac9295 100644
--- a/doc/html/configurator.html.in
+++ b/doc/html/configurator.html.in
@@ -152,7 +152,7 @@ function displayfile()
    "#KillOnBadExit=0 <br>" +
    "#LaunchType=launch/slurm <br>" +
    "#Licenses=foo*4,bar <br>" +
-   "#MailProg=/bin/mail <br>" +
+   "#MailProg=/usr/bin/mail <br>" +
    "#MaxJobCount=5000 <br>" +
    "#MaxStepCount=40000 <br>" +
    "#MaxTasksPerNode=128 <br>" +
diff --git a/doc/man/man1/strigger.1 b/doc/man/man1/strigger.1
index ef9d92e..6cea903 100644
--- a/doc/man/man1/strigger.1
+++ b/doc/man/man1/strigger.1
@@ -282,7 +282,7 @@ primary slurmctld fails.
 	strigger \-\-set \-\-primary_slurmctld_failure \\
 	         \-\-program=/usr/sbin/primary_slurmctld_failure
 	# Notify the administrator of the failure using by e\-mail
-	/bin/mail slurm_admin@site.com \-s Primary_SLURMCTLD_FAILURE
+	/usr/bin/mail slurm_admin@site.com \-s Primary_SLURMCTLD_FAILURE
 
 	> strigger \-\-set \-\-primary_slurmctld_failure \\
 	           \-\-program=/usr/sbin/primary_slurmctld_failure
@@ -301,7 +301,7 @@ argument to the script by SLURM).
 	strigger \-\-set \-\-node \-\-down \\
 	         \-\-program=/usr/sbin/slurm_admin_notify
 	# Notify administrator using by e\-mail
-	/bin/mail slurm_admin@site.com \-s NodesDown:$*
+	/usr/bin/mail slurm_admin@site.com \-s NodesDown:$*
 
 	> strigger \-\-set \-\-node \-\-down \\
 	           \-\-program=/usr/sbin/slurm_admin_notify
diff --git a/doc/man/man5/slurm.conf.5 b/doc/man/man5/slurm.conf.5
index 031a7a5..5d37937 100644
--- a/doc/man/man5/slurm.conf.5
+++ b/doc/man/man5/slurm.conf.5
@@ -1012,7 +1012,7 @@ not explicitly listed in the job submission specification.
 .TP
 \fBMailProg\fR
 Fully qualified pathname to the program used to send email per user request.
-The default value is "/bin/mail".
+The default value is "/usr/bin/mail".
 
 .TP
 \fBMaxArraySize\fR
diff --git a/src/common/read_config.h b/src/common/read_config.h
index 7bfef56..a5b6fbb 100644
--- a/src/common/read_config.h
+++ b/src/common/read_config.h
@@ -105,7 +105,7 @@ extern char *default_plugstack;
 #  define DEFAULT_LAUNCH_TYPE         "launch/slurm"
 #endif
 
-#define DEFAULT_MAIL_PROG           "/bin/mail"
+#define DEFAULT_MAIL_PROG           "/usr/bin/mail"
 #define DEFAULT_MAX_ARRAY_SIZE      1001
 #define DEFAULT_MAX_JOB_COUNT       10000
 #define DEFAULT_MAX_JOB_ID          0xffff0000
-- 
1.7.10.4

